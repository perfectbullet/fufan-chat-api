2025-03-16 00:45:20 | ERROR | stderr | Traceback (most recent call last):
2025-03-16 00:45:20 | ERROR | stderr |   File "/home/zj/课件大模型与Agent开发实战课件/fufan-chat-api/startup.py", line 25, in <module>
2025-03-16 00:45:20 | ERROR | stderr |     from server.api_router import create_app
2025-03-16 00:45:20 | ERROR | stderr |   File "/home/zj/课件大模型与Agent开发实战课件/fufan-chat-api/server/api_router.py", line 38, in <module>
2025-03-16 00:45:20 | ERROR | stderr |     from server.chat.knowledge_base_chat import knowledge_base_chat
2025-03-16 00:45:20 | ERROR | stderr |   File "/home/zj/课件大模型与Agent开发实战课件/fufan-chat-api/server/chat/knowledge_base_chat.py", line 27, in <module>
2025-03-16 00:45:20 | ERROR | stderr |     from server.reranker.reranker import LangchainReranker
2025-03-16 00:45:20 | ERROR | stderr |   File "/home/zj/课件大模型与Agent开发实战课件/fufan-chat-api/server/reranker/reranker.py", line 6, in <module>
2025-03-16 00:45:20 | ERROR | stderr |     from sentence_transformers import CrossEncoder
2025-03-16 00:45:20 | ERROR | stderr |   File "/home/zj/python-venvs/langchain/lib/python3.10/site-packages/sentence_transformers/__init__.py", line 3, in <module>
2025-03-16 00:45:20 | ERROR | stderr |     from .datasets import SentencesDataset, ParallelSentencesDataset
2025-03-16 00:45:20 | ERROR | stderr |   File "/home/zj/python-venvs/langchain/lib/python3.10/site-packages/sentence_transformers/datasets/__init__.py", line 3, in <module>
2025-03-16 00:45:20 | ERROR | stderr |     from .ParallelSentencesDataset import ParallelSentencesDataset
2025-03-16 00:45:20 | ERROR | stderr |   File "/home/zj/python-venvs/langchain/lib/python3.10/site-packages/sentence_transformers/datasets/ParallelSentencesDataset.py", line 4, in <module>
2025-03-16 00:45:20 | ERROR | stderr |     from .. import SentenceTransformer
2025-03-16 00:45:20 | ERROR | stderr |   File "/home/zj/python-venvs/langchain/lib/python3.10/site-packages/sentence_transformers/SentenceTransformer.py", line 12, in <module>
2025-03-16 00:45:20 | ERROR | stderr |     from huggingface_hub import HfApi, HfFolder, Repository, hf_hub_url, cached_download
2025-03-16 00:45:20 | ERROR | stderr | ImportError: cannot import name 'cached_download' from 'huggingface_hub' (/home/zj/python-venvs/langchain/lib/python3.10/site-packages/huggingface_hub/__init__.py)
2025-03-16 01:11:37 | ERROR | stderr | Traceback (most recent call last):
2025-03-16 01:11:37 | ERROR | stderr |   File "/home/zj/课件大模型与Agent开发实战课件/fufan-chat-api/startup.py", line 25, in <module>
2025-03-16 01:11:37 | ERROR | stderr |     from server.api_router import create_app
2025-03-16 01:11:37 | ERROR | stderr |   File "/home/zj/课件大模型与Agent开发实战课件/fufan-chat-api/server/api_router.py", line 38, in <module>
2025-03-16 01:11:37 | ERROR | stderr |     from server.chat.knowledge_base_chat import knowledge_base_chat
2025-03-16 01:11:37 | ERROR | stderr |   File "/home/zj/课件大模型与Agent开发实战课件/fufan-chat-api/server/chat/knowledge_base_chat.py", line 27, in <module>
2025-03-16 01:11:37 | ERROR | stderr |     from server.reranker.reranker import LangchainReranker
2025-03-16 01:11:37 | ERROR | stderr |   File "/home/zj/课件大模型与Agent开发实战课件/fufan-chat-api/server/reranker/reranker.py", line 6, in <module>
2025-03-16 01:11:37 | ERROR | stderr |     from sentence_transformers import CrossEncoder
2025-03-16 01:11:37 | ERROR | stderr |   File "/home/zj/python-venvs/langchain/lib/python3.10/site-packages/sentence_transformers/__init__.py", line 3, in <module>
2025-03-16 01:11:37 | ERROR | stderr |     from .datasets import SentencesDataset, ParallelSentencesDataset
2025-03-16 01:11:37 | ERROR | stderr |   File "/home/zj/python-venvs/langchain/lib/python3.10/site-packages/sentence_transformers/datasets/__init__.py", line 3, in <module>
2025-03-16 01:11:37 | ERROR | stderr |     from .ParallelSentencesDataset import ParallelSentencesDataset
2025-03-16 01:11:37 | ERROR | stderr |   File "/home/zj/python-venvs/langchain/lib/python3.10/site-packages/sentence_transformers/datasets/ParallelSentencesDataset.py", line 4, in <module>
2025-03-16 01:11:37 | ERROR | stderr |     from .. import SentenceTransformer
2025-03-16 01:11:37 | ERROR | stderr |   File "/home/zj/python-venvs/langchain/lib/python3.10/site-packages/sentence_transformers/SentenceTransformer.py", line 12, in <module>
2025-03-16 01:11:37 | ERROR | stderr |     from huggingface_hub import HfApi, HfFolder, Repository, hf_hub_url, cached_download
2025-03-16 01:11:37 | ERROR | stderr | ImportError: cannot import name 'cached_download' from 'huggingface_hub' (/home/zj/python-venvs/langchain/lib/python3.10/site-packages/huggingface_hub/__init__.py)
2025-03-16 01:28:21 | ERROR | stderr | Traceback (most recent call last):
2025-03-16 01:28:21 | ERROR | stderr |   File "/home/zj/课件大模型与Agent开发实战课件/fufan-chat-api/startup.py", line 25, in <module>
2025-03-16 01:28:21 | ERROR | stderr |     from server.api_router import create_app
2025-03-16 01:28:21 | ERROR | stderr |   File "/home/zj/课件大模型与Agent开发实战课件/fufan-chat-api/server/api_router.py", line 38, in <module>
2025-03-16 01:28:21 | ERROR | stderr |     from server.chat.knowledge_base_chat import knowledge_base_chat
2025-03-16 01:28:21 | ERROR | stderr |   File "/home/zj/课件大模型与Agent开发实战课件/fufan-chat-api/server/chat/knowledge_base_chat.py", line 27, in <module>
2025-03-16 01:28:21 | ERROR | stderr |     from server.reranker.reranker import LangchainReranker
2025-03-16 01:28:21 | ERROR | stderr |   File "/home/zj/课件大模型与Agent开发实战课件/fufan-chat-api/server/reranker/reranker.py", line 6, in <module>
2025-03-16 01:28:21 | ERROR | stderr |     from sentence_transformers import CrossEncoder
2025-03-16 01:28:21 | ERROR | stderr |   File "/home/zj/python-venvs/langchain/lib/python3.10/site-packages/sentence_transformers/__init__.py", line 3, in <module>
2025-03-16 01:28:21 | ERROR | stderr |     from .datasets import SentencesDataset, ParallelSentencesDataset
2025-03-16 01:28:21 | ERROR | stderr |   File "/home/zj/python-venvs/langchain/lib/python3.10/site-packages/sentence_transformers/datasets/__init__.py", line 3, in <module>
2025-03-16 01:28:21 | ERROR | stderr |     from .ParallelSentencesDataset import ParallelSentencesDataset
2025-03-16 01:28:21 | ERROR | stderr |   File "/home/zj/python-venvs/langchain/lib/python3.10/site-packages/sentence_transformers/datasets/ParallelSentencesDataset.py", line 4, in <module>
2025-03-16 01:28:21 | ERROR | stderr |     from .. import SentenceTransformer
2025-03-16 01:28:21 | ERROR | stderr |   File "/home/zj/python-venvs/langchain/lib/python3.10/site-packages/sentence_transformers/SentenceTransformer.py", line 12, in <module>
2025-03-16 01:28:21 | ERROR | stderr |     from huggingface_hub import HfApi, HfFolder, Repository, hf_hub_url, cached_download
2025-03-16 01:28:21 | ERROR | stderr | ImportError: cannot import name 'cached_download' from 'huggingface_hub' (/home/zj/python-venvs/langchain/lib/python3.10/site-packages/huggingface_hub/__init__.py)
2025-03-16 01:29:35 | ERROR | stderr | Traceback (most recent call last):
2025-03-16 01:29:35 | ERROR | stderr |   File "/home/zj/课件大模型与Agent开发实战课件/fufan-chat-api/startup.py", line 25, in <module>
2025-03-16 01:29:35 | ERROR | stderr |     from server.api_router import create_app
2025-03-16 01:29:35 | ERROR | stderr |   File "/home/zj/课件大模型与Agent开发实战课件/fufan-chat-api/server/api_router.py", line 38, in <module>
2025-03-16 01:29:35 | ERROR | stderr |     from server.chat.knowledge_base_chat import knowledge_base_chat
2025-03-16 01:29:35 | ERROR | stderr |   File "/home/zj/课件大模型与Agent开发实战课件/fufan-chat-api/server/chat/knowledge_base_chat.py", line 35, in <module>
2025-03-16 01:29:35 | ERROR | stderr |     from server.reranker.reranker import LangchainReranker
2025-03-16 01:29:35 | ERROR | stderr |   File "/home/zj/课件大模型与Agent开发实战课件/fufan-chat-api/server/reranker/reranker.py", line 6, in <module>
2025-03-16 01:29:35 | ERROR | stderr |     from sentence_transformers import CrossEncoder
2025-03-16 01:29:35 | ERROR | stderr |   File "/home/zj/python-venvs/langchain/lib/python3.10/site-packages/sentence_transformers/__init__.py", line 3, in <module>
2025-03-16 01:29:35 | ERROR | stderr |     from .datasets import SentencesDataset, ParallelSentencesDataset
2025-03-16 01:29:35 | ERROR | stderr |   File "/home/zj/python-venvs/langchain/lib/python3.10/site-packages/sentence_transformers/datasets/__init__.py", line 3, in <module>
2025-03-16 01:29:35 | ERROR | stderr |     from .ParallelSentencesDataset import ParallelSentencesDataset
2025-03-16 01:29:35 | ERROR | stderr |   File "/home/zj/python-venvs/langchain/lib/python3.10/site-packages/sentence_transformers/datasets/ParallelSentencesDataset.py", line 4, in <module>
2025-03-16 01:29:35 | ERROR | stderr |     from .. import SentenceTransformer
2025-03-16 01:29:35 | ERROR | stderr |   File "/home/zj/python-venvs/langchain/lib/python3.10/site-packages/sentence_transformers/SentenceTransformer.py", line 12, in <module>
2025-03-16 01:29:35 | ERROR | stderr |     from huggingface_hub import HfApi, HfFolder, Repository, hf_hub_url, cached_download
2025-03-16 01:29:35 | ERROR | stderr | ImportError: cannot import name 'cached_download' from 'huggingface_hub' (/home/zj/python-venvs/langchain/lib/python3.10/site-packages/huggingface_hub/__init__.py)
2025-03-16 01:32:17 | ERROR | stderr | Traceback (most recent call last):
2025-03-16 01:32:17 | ERROR | stderr |   File "/home/zj/课件大模型与Agent开发实战课件/fufan-chat-api/startup.py", line 25, in <module>
2025-03-16 01:32:17 | ERROR | stderr |     from server.api_router import create_app
2025-03-16 01:32:17 | ERROR | stderr |   File "/home/zj/课件大模型与Agent开发实战课件/fufan-chat-api/server/api_router.py", line 38, in <module>
2025-03-16 01:32:17 | ERROR | stderr |     from server.chat.knowledge_base_chat import knowledge_base_chat
2025-03-16 01:32:17 | ERROR | stderr |   File "/home/zj/课件大模型与Agent开发实战课件/fufan-chat-api/server/chat/knowledge_base_chat.py", line 35, in <module>
2025-03-16 01:32:17 | ERROR | stderr |     from server.reranker.reranker import LangchainReranker
2025-03-16 01:32:17 | ERROR | stderr |   File "/home/zj/课件大模型与Agent开发实战课件/fufan-chat-api/server/reranker/reranker.py", line 8, in <module>
2025-03-16 01:32:17 | ERROR | stderr |     from sentence_transformers import CrossEncoder
2025-03-16 01:32:17 | ERROR | stderr |   File "/home/zj/python-venvs/langchain/lib/python3.10/site-packages/sentence_transformers/__init__.py", line 3, in <module>
2025-03-16 01:32:17 | ERROR | stderr |     from .datasets import SentencesDataset, ParallelSentencesDataset
2025-03-16 01:32:17 | ERROR | stderr |   File "/home/zj/python-venvs/langchain/lib/python3.10/site-packages/sentence_transformers/datasets/__init__.py", line 3, in <module>
2025-03-16 01:32:17 | ERROR | stderr |     from .ParallelSentencesDataset import ParallelSentencesDataset
2025-03-16 01:32:17 | ERROR | stderr |   File "/home/zj/python-venvs/langchain/lib/python3.10/site-packages/sentence_transformers/datasets/ParallelSentencesDataset.py", line 4, in <module>
2025-03-16 01:32:17 | ERROR | stderr |     from .. import SentenceTransformer
2025-03-16 01:32:17 | ERROR | stderr |   File "/home/zj/python-venvs/langchain/lib/python3.10/site-packages/sentence_transformers/SentenceTransformer.py", line 12, in <module>
2025-03-16 01:32:17 | ERROR | stderr |     from huggingface_hub import HfApi, HfFolder, Repository, hf_hub_url, cached_download
2025-03-16 01:32:17 | ERROR | stderr | ImportError: cannot import name 'cached_download' from 'huggingface_hub' (/home/zj/python-venvs/langchain/lib/python3.10/site-packages/huggingface_hub/__init__.py)
2025-03-16 01:34:14 | ERROR | stderr | [nltk_data] Downloading package stopwords to /home/zj/python-
2025-03-16 01:34:14 | ERROR | stderr | [nltk_data]     venvs/langchain/lib/python3.10/site-
2025-03-16 01:34:14 | ERROR | stderr | [nltk_data]     packages/llama_index/legacy/_static/nltk_cache...
2025-03-16 01:34:15 | ERROR | stderr | [nltk_data]   Unzipping corpora/stopwords.zip.
2025-03-16 01:34:15 | ERROR | stderr | [nltk_data] Downloading package punkt to /home/zj/python-
2025-03-16 01:34:15 | ERROR | stderr | [nltk_data]     venvs/langchain/lib/python3.10/site-
2025-03-16 01:34:15 | ERROR | stderr | [nltk_data]     packages/llama_index/legacy/_static/nltk_cache...
2025-03-16 01:34:23 | ERROR | stderr | [nltk_data]   Unzipping tokenizers/punkt.zip.
2025-03-16 01:34:36 | INFO | controller | 正在启动服务：
2025-03-16 01:34:36 | INFO | controller | 如需查看 服务日志 日志，请前往 /home/zj/课件大模型与Agent开发实战课件/fufan-chat-api/logs
2025-03-16 01:34:48 | ERROR | stderr | INFO:     Started server process [208468]
2025-03-16 01:34:48 | ERROR | stderr | INFO:     Waiting for application startup.
2025-03-16 01:34:49 | ERROR | stderr | INFO:     Application startup complete.
2025-03-16 01:34:49 | ERROR | stderr | INFO:     Uvicorn running on http://0.0.0.0:20001 (Press CTRL+C to quit)
2025-03-16 01:35:01 | ERROR | stderr | INFO:     Started server process [208575]
2025-03-16 01:35:01 | ERROR | stderr | INFO:     Waiting for application startup.
2025-03-16 01:35:01 | ERROR | stderr | INFO:     Application startup complete.
2025-03-16 01:35:01 | ERROR | stderr | INFO:     Uvicorn running on http://0.0.0.0:20000 (Press CTRL+C to quit)
2025-03-16 01:35:01 | ERROR | stderr | Process model_worker - DeepSeek-R1-Distill-Llama-8B:
2025-03-16 01:35:01 | ERROR | stderr | Traceback (most recent call last):
2025-03-16 01:35:01 | ERROR | stderr |   File "/home/zj/python-venvs/langchain/lib/python3.10/site-packages/transformers/utils/hub.py", line 342, in cached_file
2025-03-16 01:35:01 | ERROR | stderr |     resolved_file = hf_hub_download(
2025-03-16 01:35:01 | ERROR | stderr |   File "/home/zj/python-venvs/langchain/lib/python3.10/site-packages/huggingface_hub/utils/_validators.py", line 106, in _inner_fn
2025-03-16 01:35:01 | ERROR | stderr |     validate_repo_id(arg_value)
2025-03-16 01:35:01 | ERROR | stderr |   File "/home/zj/python-venvs/langchain/lib/python3.10/site-packages/huggingface_hub/utils/_validators.py", line 160, in validate_repo_id
2025-03-16 01:35:01 | ERROR | stderr |     raise HFValidationError(
2025-03-16 01:35:01 | ERROR | stderr | huggingface_hub.errors.HFValidationError: Repo id must use alphanumeric chars or '-', '_', '.', '--' and '..' are forbidden, '-' and '.' cannot start or end the name, max length is 96: ''.
2025-03-16 01:35:01 | ERROR | stderr | 
2025-03-16 01:35:01 | ERROR | stderr | The above exception was the direct cause of the following exception:
2025-03-16 01:35:01 | ERROR | stderr | 
2025-03-16 01:35:01 | ERROR | stderr | Traceback (most recent call last):
2025-03-16 01:35:01 | ERROR | stderr |   File "/usr/lib/python3.10/multiprocessing/process.py", line 314, in _bootstrap
2025-03-16 01:35:01 | ERROR | stderr |     self.run()
2025-03-16 01:35:01 | ERROR | stderr |   File "/usr/lib/python3.10/multiprocessing/process.py", line 108, in run
2025-03-16 01:35:01 | ERROR | stderr |     self._target(*self._args, **self._kwargs)
2025-03-16 01:35:01 | ERROR | stderr |   File "/home/zj/课件大模型与Agent开发实战课件/fufan-chat-api/startup.py", line 233, in run_model_worker
2025-03-16 01:35:01 | ERROR | stderr |     app = create_model_worker_app(log_level=log_level, **kwargs)
2025-03-16 01:35:01 | ERROR | stderr |   File "/home/zj/课件大模型与Agent开发实战课件/fufan-chat-api/startup.py", line 318, in create_model_worker_app
2025-03-16 01:35:01 | ERROR | stderr |     worker = ModelWorker(
2025-03-16 01:35:01 | ERROR | stderr |   File "/home/zj/python-venvs/langchain/lib/python3.10/site-packages/fastchat/serve/model_worker.py", line 77, in __init__
2025-03-16 01:35:01 | ERROR | stderr |     self.model, self.tokenizer = load_model(
2025-03-16 01:35:01 | ERROR | stderr |   File "/home/zj/python-venvs/langchain/lib/python3.10/site-packages/fastchat/model/model_adapter.py", line 348, in load_model
2025-03-16 01:35:01 | ERROR | stderr |     model, tokenizer = adapter.load_model(model_path, kwargs)
2025-03-16 01:35:01 | ERROR | stderr |   File "/home/zj/python-venvs/langchain/lib/python3.10/site-packages/fastchat/model/model_adapter.py", line 84, in load_model
2025-03-16 01:35:01 | ERROR | stderr |     tokenizer = AutoTokenizer.from_pretrained(
2025-03-16 01:35:01 | ERROR | stderr |   File "/home/zj/python-venvs/langchain/lib/python3.10/site-packages/transformers/models/auto/tokenization_auto.py", line 881, in from_pretrained
2025-03-16 01:35:01 | ERROR | stderr |     tokenizer_config = get_tokenizer_config(pretrained_model_name_or_path, **kwargs)
2025-03-16 01:35:01 | ERROR | stderr |   File "/home/zj/python-venvs/langchain/lib/python3.10/site-packages/transformers/models/auto/tokenization_auto.py", line 713, in get_tokenizer_config
2025-03-16 01:35:01 | ERROR | stderr |     resolved_config_file = cached_file(
2025-03-16 01:35:01 | ERROR | stderr |   File "/home/zj/python-venvs/langchain/lib/python3.10/site-packages/transformers/utils/hub.py", line 408, in cached_file
2025-03-16 01:35:01 | ERROR | stderr |     raise EnvironmentError(
2025-03-16 01:35:01 | ERROR | stderr | OSError: Incorrect path_or_model_id: ''. Please provide either the path to a local folder or the repo_id of a model on the Hub.
2025-03-16 01:40:32 | INFO | stdout | INFO:     127.0.0.1:60886 - "GET / HTTP/1.1" 404 Not Found
2025-03-16 01:40:32 | INFO | stdout | INFO:     127.0.0.1:60886 - "GET /favicon.ico HTTP/1.1" 404 Not Found
2025-03-16 01:40:38 | INFO | stdout | INFO:     127.0.0.1:60890 - "GET /docs HTTP/1.1" 200 OK
2025-03-16 01:40:39 | INFO | stdout | INFO:     127.0.0.1:60890 - "GET /openapi.json HTTP/1.1" 200 OK
2025-03-16 01:48:17 | WARNING | controller | Sending SIGKILL to {}
2025-03-16 01:48:17 | WARNING | controller | Sending SIGKILL to {'DeepSeek-R1-Distill-Llama-8B': <Process name='model_worker - DeepSeek-R1-Distill-Llama-8B (208576)' pid=208576 parent=208130 stopped exitcode=1 daemon>}
2025-03-16 01:48:17 | WARNING | controller | Sending SIGKILL to <Process name='controller (208468)' pid=208468 parent=208130 started daemon>
2025-03-16 01:48:17 | WARNING | controller | Sending SIGKILL to <Process name='openai_api (208575)' pid=208575 parent=208130 started daemon>
2025-03-16 01:48:17 | WARNING | controller | Sending SIGKILL to <Process name='API Server' parent=208130 initial daemon>
2025-03-16 01:48:17 | ERROR | stderr | Traceback (most recent call last):
2025-03-16 01:48:17 | ERROR | stderr |   File "/home/zj/课件大模型与Agent开发实战课件/fufan-chat-api/startup.py", line 488, in start_main_server
2025-03-16 01:48:17 | ERROR | stderr |     e.wait()
2025-03-16 01:48:17 | ERROR | stderr |   File "/usr/lib/python3.10/multiprocessing/managers.py", line 1093, in wait
2025-03-16 01:48:17 | ERROR | stderr |     return self._callmethod('wait', (timeout,))
2025-03-16 01:48:17 | ERROR | stderr |   File "/usr/lib/python3.10/multiprocessing/managers.py", line 818, in _callmethod
2025-03-16 01:48:17 | ERROR | stderr |     kind, result = conn.recv()
2025-03-16 01:48:17 | ERROR | stderr |   File "/usr/lib/python3.10/multiprocessing/connection.py", line 250, in recv
2025-03-16 01:48:17 | ERROR | stderr |     buf = self._recv_bytes()
2025-03-16 01:48:17 | ERROR | stderr |   File "/usr/lib/python3.10/multiprocessing/connection.py", line 414, in _recv_bytes
2025-03-16 01:48:17 | ERROR | stderr |     buf = self._recv(4)
2025-03-16 01:48:17 | ERROR | stderr |   File "/usr/lib/python3.10/multiprocessing/connection.py", line 379, in _recv
2025-03-16 01:48:17 | ERROR | stderr |     chunk = read(handle, remaining)
2025-03-16 01:48:17 | ERROR | stderr |   File "/home/zj/课件大模型与Agent开发实战课件/fufan-chat-api/startup.py", line 369, in f
2025-03-16 01:48:17 | ERROR | stderr |     raise KeyboardInterrupt(f"{signalname} received")
2025-03-16 01:48:17 | ERROR | stderr | KeyboardInterrupt: SIGINT received
2025-03-16 01:48:17 | ERROR | stderr | 
2025-03-16 01:48:17 | ERROR | stderr | During handling of the above exception, another exception occurred:
2025-03-16 01:48:17 | ERROR | stderr | 
2025-03-16 01:48:17 | ERROR | stderr | Traceback (most recent call last):
2025-03-16 01:48:17 | ERROR | stderr |   File "/home/zj/课件大模型与Agent开发实战课件/fufan-chat-api/startup.py", line 585, in <module>
2025-03-16 01:48:17 | ERROR | stderr |     loop.run_until_complete(start_main_server())
2025-03-16 01:48:17 | ERROR | stderr |   File "/home/zj/课件大模型与Agent开发实战课件/fufan-chat-api/startup.py", line 566, in start_main_server
2025-03-16 01:48:17 | ERROR | stderr |     p.kill()
2025-03-16 01:48:17 | ERROR | stderr |   File "/usr/lib/python3.10/multiprocessing/process.py", line 140, in kill
2025-03-16 01:48:17 | ERROR | stderr |     self._popen.kill()
2025-03-16 01:48:17 | ERROR | stderr | AttributeError: 'NoneType' object has no attribute 'kill'
2025-03-16 01:53:35 | INFO | controller | 正在启动服务：
2025-03-16 01:53:35 | INFO | controller | 如需查看 服务日志 日志，请前往 /home/zj/课件大模型与Agent开发实战课件/fufan-chat-api/logs
2025-03-16 01:53:48 | ERROR | stderr | INFO:     Started server process [213570]
2025-03-16 01:53:48 | ERROR | stderr | INFO:     Waiting for application startup.
2025-03-16 01:53:48 | ERROR | stderr | INFO:     Application startup complete.
2025-03-16 01:53:48 | ERROR | stderr | INFO:     Uvicorn running on http://0.0.0.0:20001 (Press CTRL+C to quit)
2025-03-16 01:53:59 | ERROR | stderr | Process model_worker - DeepSeek-R1-Distill-Llama-8B:
2025-03-16 01:53:59 | ERROR | stderr | Traceback (most recent call last):
2025-03-16 01:53:59 | ERROR | stderr |   File "/home/zj/python-venvs/langchain/lib/python3.10/site-packages/transformers/utils/hub.py", line 342, in cached_file
2025-03-16 01:53:59 | ERROR | stderr |     resolved_file = hf_hub_download(
2025-03-16 01:53:59 | ERROR | stderr |   File "/home/zj/python-venvs/langchain/lib/python3.10/site-packages/huggingface_hub/utils/_validators.py", line 106, in _inner_fn
2025-03-16 01:53:59 | ERROR | stderr |     validate_repo_id(arg_value)
2025-03-16 01:53:59 | ERROR | stderr |   File "/home/zj/python-venvs/langchain/lib/python3.10/site-packages/huggingface_hub/utils/_validators.py", line 160, in validate_repo_id
2025-03-16 01:53:59 | ERROR | stderr |     raise HFValidationError(
2025-03-16 01:53:59 | ERROR | stderr | huggingface_hub.errors.HFValidationError: Repo id must use alphanumeric chars or '-', '_', '.', '--' and '..' are forbidden, '-' and '.' cannot start or end the name, max length is 96: ''.
2025-03-16 01:53:59 | ERROR | stderr | 
2025-03-16 01:53:59 | ERROR | stderr | The above exception was the direct cause of the following exception:
2025-03-16 01:53:59 | ERROR | stderr | 
2025-03-16 01:53:59 | ERROR | stderr | Traceback (most recent call last):
2025-03-16 01:53:59 | ERROR | stderr |   File "/usr/lib/python3.10/multiprocessing/process.py", line 314, in _bootstrap
2025-03-16 01:53:59 | ERROR | stderr |     self.run()
2025-03-16 01:53:59 | ERROR | stderr |   File "/usr/lib/python3.10/multiprocessing/process.py", line 108, in run
2025-03-16 01:53:59 | ERROR | stderr |     self._target(*self._args, **self._kwargs)
2025-03-16 01:53:59 | ERROR | stderr |   File "/home/zj/课件大模型与Agent开发实战课件/fufan-chat-api/startup.py", line 233, in run_model_worker
2025-03-16 01:53:59 | ERROR | stderr |     app = create_model_worker_app(log_level=log_level, **kwargs)
2025-03-16 01:53:59 | ERROR | stderr |   File "/home/zj/课件大模型与Agent开发实战课件/fufan-chat-api/startup.py", line 318, in create_model_worker_app
2025-03-16 01:53:59 | ERROR | stderr |     worker = ModelWorker(
2025-03-16 01:53:59 | ERROR | stderr |   File "/home/zj/python-venvs/langchain/lib/python3.10/site-packages/fastchat/serve/model_worker.py", line 77, in __init__
2025-03-16 01:53:59 | ERROR | stderr |     self.model, self.tokenizer = load_model(
2025-03-16 01:53:59 | ERROR | stderr |   File "/home/zj/python-venvs/langchain/lib/python3.10/site-packages/fastchat/model/model_adapter.py", line 348, in load_model
2025-03-16 01:53:59 | ERROR | stderr |     model, tokenizer = adapter.load_model(model_path, kwargs)
2025-03-16 01:53:59 | ERROR | stderr |   File "/home/zj/python-venvs/langchain/lib/python3.10/site-packages/fastchat/model/model_adapter.py", line 84, in load_model
2025-03-16 01:53:59 | ERROR | stderr |     tokenizer = AutoTokenizer.from_pretrained(
2025-03-16 01:53:59 | ERROR | stderr |   File "/home/zj/python-venvs/langchain/lib/python3.10/site-packages/transformers/models/auto/tokenization_auto.py", line 881, in from_pretrained
2025-03-16 01:53:59 | ERROR | stderr |     tokenizer_config = get_tokenizer_config(pretrained_model_name_or_path, **kwargs)
2025-03-16 01:53:59 | ERROR | stderr |   File "/home/zj/python-venvs/langchain/lib/python3.10/site-packages/transformers/models/auto/tokenization_auto.py", line 713, in get_tokenizer_config
2025-03-16 01:53:59 | ERROR | stderr |     resolved_config_file = cached_file(
2025-03-16 01:53:59 | ERROR | stderr |   File "/home/zj/python-venvs/langchain/lib/python3.10/site-packages/transformers/utils/hub.py", line 408, in cached_file
2025-03-16 01:53:59 | ERROR | stderr |     raise EnvironmentError(
2025-03-16 01:53:59 | ERROR | stderr | OSError: Incorrect path_or_model_id: ''. Please provide either the path to a local folder or the repo_id of a model on the Hub.
2025-03-16 01:53:59 | ERROR | stderr | INFO:     Started server process [213743]
2025-03-16 01:53:59 | ERROR | stderr | INFO:     Waiting for application startup.
2025-03-16 01:53:59 | ERROR | stderr | INFO:     Application startup complete.
2025-03-16 01:53:59 | ERROR | stderr | INFO:     Uvicorn running on http://0.0.0.0:20000 (Press CTRL+C to quit)
2025-03-16 01:59:27 | WARNING | controller | Sending SIGKILL to {}
2025-03-16 01:59:27 | WARNING | controller | Sending SIGKILL to {'DeepSeek-R1-Distill-Llama-8B': <Process name='model_worker - DeepSeek-R1-Distill-Llama-8B (213744)' pid=213744 parent=213344 stopped exitcode=1 daemon>}
2025-03-16 01:59:27 | WARNING | controller | Sending SIGKILL to <Process name='controller (213570)' pid=213570 parent=213344 started daemon>
2025-03-16 01:59:27 | WARNING | controller | Sending SIGKILL to <Process name='openai_api (213743)' pid=213743 parent=213344 started daemon>
2025-03-16 01:59:27 | WARNING | controller | Sending SIGKILL to <Process name='API Server' parent=213344 initial daemon>
2025-03-16 01:59:27 | ERROR | stderr | Traceback (most recent call last):
2025-03-16 01:59:27 | ERROR | stderr |   File "/home/zj/课件大模型与Agent开发实战课件/fufan-chat-api/startup.py", line 488, in start_main_server
2025-03-16 01:59:27 | ERROR | stderr |     e.wait()
2025-03-16 01:59:27 | ERROR | stderr |   File "/usr/lib/python3.10/multiprocessing/managers.py", line 1093, in wait
2025-03-16 01:59:27 | ERROR | stderr |     return self._callmethod('wait', (timeout,))
2025-03-16 01:59:27 | ERROR | stderr |   File "/usr/lib/python3.10/multiprocessing/managers.py", line 818, in _callmethod
2025-03-16 01:59:27 | ERROR | stderr |     kind, result = conn.recv()
2025-03-16 01:59:27 | ERROR | stderr |   File "/usr/lib/python3.10/multiprocessing/connection.py", line 250, in recv
2025-03-16 01:59:27 | ERROR | stderr |     buf = self._recv_bytes()
2025-03-16 01:59:27 | ERROR | stderr |   File "/usr/lib/python3.10/multiprocessing/connection.py", line 414, in _recv_bytes
2025-03-16 01:59:27 | ERROR | stderr |     buf = self._recv(4)
2025-03-16 01:59:27 | ERROR | stderr |   File "/usr/lib/python3.10/multiprocessing/connection.py", line 379, in _recv
2025-03-16 01:59:27 | ERROR | stderr |     chunk = read(handle, remaining)
2025-03-16 01:59:27 | ERROR | stderr |   File "/home/zj/课件大模型与Agent开发实战课件/fufan-chat-api/startup.py", line 369, in f
2025-03-16 01:59:27 | ERROR | stderr |     raise KeyboardInterrupt(f"{signalname} received")
2025-03-16 01:59:27 | ERROR | stderr | KeyboardInterrupt: SIGINT received
2025-03-16 01:59:27 | ERROR | stderr | 
2025-03-16 01:59:27 | ERROR | stderr | During handling of the above exception, another exception occurred:
2025-03-16 01:59:27 | ERROR | stderr | 
2025-03-16 01:59:27 | ERROR | stderr | Traceback (most recent call last):
2025-03-16 01:59:27 | ERROR | stderr |   File "/home/zj/课件大模型与Agent开发实战课件/fufan-chat-api/startup.py", line 585, in <module>
2025-03-16 01:59:27 | ERROR | stderr |     loop.run_until_complete(start_main_server())
2025-03-16 01:59:27 | ERROR | stderr |   File "/home/zj/课件大模型与Agent开发实战课件/fufan-chat-api/startup.py", line 566, in start_main_server
2025-03-16 01:59:27 | ERROR | stderr |     p.kill()
2025-03-16 01:59:27 | ERROR | stderr |   File "/usr/lib/python3.10/multiprocessing/process.py", line 140, in kill
2025-03-16 01:59:27 | ERROR | stderr |     self._popen.kill()
2025-03-16 01:59:27 | ERROR | stderr | AttributeError: 'NoneType' object has no attribute 'kill'
2025-03-16 02:00:39 | INFO | controller | 正在启动服务：
2025-03-16 02:00:39 | INFO | controller | 如需查看 服务日志 日志，请前往 /home/zj/课件大模型与Agent开发实战课件/fufan-chat-api/logs
2025-03-16 02:01:05 | ERROR | stderr | Traceback (most recent call last):
2025-03-16 02:01:05 | ERROR | stderr |   File "/home/zj/课件大模型与Agent开发实战课件/fufan-chat-api/startup.py", line 585, in <module>
2025-03-16 02:01:05 | ERROR | stderr |     loop.run_until_complete(start_main_server())
2025-03-16 02:01:05 | ERROR | stderr |   File "/home/zj/课件大模型与Agent开发实战课件/fufan-chat-api/startup.py", line 416, in start_main_server
2025-03-16 02:01:05 | ERROR | stderr |     if not config.get("online_api"):
2025-03-16 02:01:05 | ERROR | stderr | KeyboardInterrupt: SIGINT received
2025-03-16 02:02:14 | INFO | controller | 正在启动服务：
2025-03-16 02:02:14 | INFO | controller | 如需查看 服务日志 日志，请前往 /home/zj/课件大模型与Agent开发实战课件/fufan-chat-api/logs
2025-03-16 02:03:28 | ERROR | stderr | Traceback (most recent call last):
2025-03-16 02:03:28 | ERROR | stderr |   File "/home/zj/课件大模型与Agent开发实战课件/fufan-chat-api/startup.py", line 585, in <module>
2025-03-16 02:03:28 | ERROR | stderr |     loop.run_until_complete(start_main_server())
2025-03-16 02:03:28 | ERROR | stderr |   File "/home/zj/课件大模型与Agent开发实战课件/fufan-chat-api/startup.py", line 415, in start_main_server
2025-03-16 02:03:28 | ERROR | stderr |     config = get_model_worker_config(model_name)
2025-03-16 02:03:28 | ERROR | stderr |   File "/home/zj/课件大模型与Agent开发实战课件/fufan-chat-api/server/utils.py", line 135, in get_model_worker_config
2025-03-16 02:03:28 | ERROR | stderr |     return config
2025-03-16 02:03:28 | ERROR | stderr | KeyboardInterrupt: SIGINT received
2025-03-16 02:03:56 | INFO | controller | 正在启动服务：
2025-03-16 02:03:56 | INFO | controller | 如需查看 服务日志 日志，请前往 /home/zj/课件大模型与Agent开发实战课件/fufan-chat-api/logs
2025-03-16 02:04:08 | ERROR | stderr | INFO:     Started server process [216412]
2025-03-16 02:04:08 | ERROR | stderr | INFO:     Waiting for application startup.
2025-03-16 02:04:08 | ERROR | stderr | INFO:     Application startup complete.
2025-03-16 02:04:08 | ERROR | stderr | INFO:     Uvicorn running on http://0.0.0.0:20001 (Press CTRL+C to quit)
2025-03-16 02:04:20 | ERROR | stderr | INFO:     Started server process [216603]
2025-03-16 02:04:20 | ERROR | stderr | INFO:     Waiting for application startup.
2025-03-16 02:04:20 | ERROR | stderr | INFO:     Application startup complete.
2025-03-16 02:04:20 | ERROR | stderr | INFO:     Uvicorn running on http://0.0.0.0:20000 (Press CTRL+C to quit)
2025-03-16 02:04:20 | ERROR | stderr | INFO:     Started server process [216604]
2025-03-16 02:04:20 | ERROR | stderr | INFO:     Waiting for application startup.
2025-03-16 02:04:20 | ERROR | stderr | INFO:     Application startup complete.
2025-03-16 02:04:20 | ERROR | stderr | ERROR:    [Errno 98] error while attempting to bind on address ('0.0.0.0', 8000): address already in use
2025-03-16 02:04:20 | ERROR | stderr | INFO:     Waiting for application shutdown.
2025-03-16 02:04:20 | ERROR | stderr | INFO:     Application shutdown complete.
2025-03-16 02:06:33 | WARNING | controller | Sending SIGKILL to {}
2025-03-16 02:06:33 | WARNING | controller | Sending SIGKILL to {}
2025-03-16 02:06:33 | WARNING | controller | Sending SIGKILL to <Process name='controller (216412)' pid=216412 parent=216200 started daemon>
2025-03-16 02:06:33 | WARNING | controller | Sending SIGKILL to <Process name='openai_api (216603)' pid=216603 parent=216200 started daemon>
2025-03-16 02:06:33 | WARNING | controller | Sending SIGKILL to <Process name='API Server (216604)' pid=216604 parent=216200 stopped exitcode=1 daemon>
2025-03-16 02:06:33 | INFO | controller | Process status: {}
2025-03-16 02:06:33 | INFO | controller | Process status: {}
2025-03-16 02:06:33 | INFO | controller | Process status: <Process name='controller (216412)' pid=216412 parent=216200 started daemon>
2025-03-16 02:06:33 | INFO | controller | Process status: <Process name='openai_api (216603)' pid=216603 parent=216200 started daemon>
2025-03-16 02:06:33 | INFO | controller | Process status: <Process name='API Server (216604)' pid=216604 parent=216200 stopped exitcode=1 daemon>
2025-03-16 02:06:33 | ERROR | stderr | Traceback (most recent call last):
2025-03-16 02:06:33 | ERROR | stderr |   File "/home/zj/课件大模型与Agent开发实战课件/fufan-chat-api/startup.py", line 585, in <module>
2025-03-16 02:06:33 | ERROR | stderr |     loop.run_until_complete(start_main_server())
2025-03-16 02:06:33 | ERROR | stderr |   File "/home/zj/课件大模型与Agent开发实战课件/fufan-chat-api/startup.py", line 496, in start_main_server
2025-03-16 02:06:33 | ERROR | stderr |     cmd = queue.get()
2025-03-16 02:06:33 | ERROR | stderr |   File "<string>", line 2, in get
2025-03-16 02:06:33 | ERROR | stderr |   File "/usr/lib/python3.10/multiprocessing/managers.py", line 818, in _callmethod
2025-03-16 02:06:33 | ERROR | stderr |     kind, result = conn.recv()
2025-03-16 02:06:33 | ERROR | stderr |   File "/usr/lib/python3.10/multiprocessing/connection.py", line 250, in recv
2025-03-16 02:06:33 | ERROR | stderr |     buf = self._recv_bytes()
2025-03-16 02:06:33 | ERROR | stderr |   File "/usr/lib/python3.10/multiprocessing/connection.py", line 414, in _recv_bytes
2025-03-16 02:06:33 | ERROR | stderr |     buf = self._recv(4)
2025-03-16 02:06:33 | ERROR | stderr |   File "/usr/lib/python3.10/multiprocessing/connection.py", line 379, in _recv
2025-03-16 02:06:33 | ERROR | stderr |     chunk = read(handle, remaining)
2025-03-16 02:06:33 | ERROR | stderr |   File "/home/zj/课件大模型与Agent开发实战课件/fufan-chat-api/startup.py", line 369, in f
2025-03-16 02:06:33 | ERROR | stderr |     raise KeyboardInterrupt(f"{signalname} received")
2025-03-16 02:06:33 | ERROR | stderr | KeyboardInterrupt: SIGINT received
2025-03-16 02:06:59 | INFO | controller | 正在启动服务：
2025-03-16 02:06:59 | INFO | controller | 如需查看 服务日志 日志，请前往 /home/zj/课件大模型与Agent开发实战课件/fufan-chat-api/logs
2025-03-16 02:07:12 | ERROR | stderr | INFO:     Started server process [217525]
2025-03-16 02:07:12 | ERROR | stderr | INFO:     Waiting for application startup.
2025-03-16 02:07:12 | ERROR | stderr | INFO:     Application startup complete.
2025-03-16 02:07:12 | ERROR | stderr | INFO:     Uvicorn running on http://0.0.0.0:20001 (Press CTRL+C to quit)
2025-03-16 02:07:24 | ERROR | stderr | INFO:     Started server process [217625]
2025-03-16 02:07:24 | ERROR | stderr | INFO:     Waiting for application startup.
2025-03-16 02:07:24 | ERROR | stderr | INFO:     Application startup complete.
2025-03-16 02:07:24 | ERROR | stderr | INFO:     Uvicorn running on http://0.0.0.0:20000 (Press CTRL+C to quit)
2025-03-16 02:07:24 | ERROR | stderr | INFO:     Started server process [217629]
2025-03-16 02:07:24 | ERROR | stderr | INFO:     Waiting for application startup.
2025-03-16 02:07:24 | ERROR | stderr | INFO:     Application startup complete.
2025-03-16 02:07:24 | ERROR | stderr | INFO:     Uvicorn running on http://0.0.0.0:8001 (Press CTRL+C to quit)
2025-03-16 02:07:36 | INFO | stdout | INFO:     127.0.0.1:53716 - "GET /docs HTTP/1.1" 200 OK
2025-03-16 02:07:36 | INFO | stdout | INFO:     127.0.0.1:53716 - "GET /openapi.json HTTP/1.1" 200 OK
2025-03-16 02:07:43 | INFO | stdout | INFO:     127.0.0.1:41270 - "GET /docs HTTP/1.1" 200 OK
2025-03-16 02:07:43 | INFO | stdout | INFO:     127.0.0.1:41270 - "GET /openapi.json HTTP/1.1" 200 OK
2025-03-16 02:07:56 | INFO | stdout | INFO:     127.0.0.1:43164 - "GET /docs HTTP/1.1" 200 OK
2025-03-16 02:07:56 | INFO | stdout | INFO:     127.0.0.1:43164 - "GET /openapi.json HTTP/1.1" 200 OK
